!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(20);e.Component=n.Component;var o=r(12);e.Dom=o.default;var i=r(4),a=new i.default("user");e.Store=a;var u=r(16);e.Cookie=u.default,e.default=n.default,window.Cpage=new n.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(36),o=new n.util;e.default=o},function(t,e){"use strict";function r(t){console.log(t)}function n(t){console.log(t)}function o(t){console.log(t)}function i(t){throw new Error(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.log=r,e.info=n,e.warn=o,e.error=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.elements=document.querySelectorAll(t),this.els=this._getEles(this.elements)}return t.prototype._getEles=function(t){if(t&&t.length)return t},t.prototype.each=function(t,e){for(var r=0;r<t.length;r++)e(t[r],r)},t}();e.default=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10),o=r(33),i=new n.default,a=new o.default,u=function(){function t(t){void 0===t&&(t="Cpage"),this.app=i.module(t,[]),this.ins=function(){return a.inject([t])}}return t.prototype.data=function(t,e){this.app.data(t,e)},t.prototype.has=function(t){return this.ins().has(t)},t.prototype.get=function(t){return this.ins().get(t)},t.prototype.provider=function(t,e){this.app.provider(t,e)},t.prototype.factory=function(t,e){this.app.factory(t,e)},t.prototype.service=function(t,e){this.app.service(t,e)},t}();e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.eventList={}}return t.prototype.trigger=function(t,e){var r=Array.prototype.shift.call(arguments),n=this.eventList[r];if(!n||0===n.length)return!1;for(var o,i=0;o=n[i++];)o.apply(this,arguments)},t.prototype.listen=function(t,e){this.eventList[t]||(this.eventList[t]=[]),this.eventList[t].push(e)},t.prototype.remove=function(t,e){var r=this.eventList[t];if(!r)return!1;if(e)for(var n=r.length-1,o=r[n];n>=0;n--)o===e&&r.splice(n,1);else r&&(r.length=0)},t}(),n=new r;e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataType={1:"ASTBuilder.Init",2:"ASTBuilder.MetaData",3:"ASTBuilder.Array",4:"ASTBuilder.Object",5:"ASTBuilder.Identifier",6:"ASTBuilder.This",7:"ASTBuilder.Member",8:"ASTBuilder.Function",9:"ASTBuilder.Assignment",10:"ASTBuilder.Unary",11:"ASTBuilder.Binary",12:"ASTBuilder.Logical",13:"ASTBuilder.Teranry"},e.ast_init={type:e.dataType[1],body:{}},e.ast_constant={type:e.dataType[2],value:void 0},e.ast_array={type:e.dataType[3],value:void 0},e.ast_object={type:e.dataType[4],value:void 0},e.ast_json={type:e.dataType[5],key:void 0,value:void 0},e.ast_identifier={type:e.dataType[5],value:void 0},e.ast_this={type:e.dataType[6]},e.ast_member={type:e.dataType[7],object:void 0,property:void 0,computed:void 0},e.ast_function={type:e.dataType[8],callee:void 0,arguments:void 0,pipe:Boolean},e.ast_assignment={type:e.dataType[9],left:void 0,right:void 0},e.ast_unary={type:e.dataType[10],operator:"+",value:void 0},e.ast_binary={type:e.dataType[11],left:void 0,operator:void 0,right:void 0},e.ast_logical={type:e.dataType[12],left:void 0,operator:void 0,right:void 0},e.ast_teranry={type:e.dataType[13],boolean_expression:void 0,true_value:void 0,error_value:void 0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={"'":"'",'"':'"',"&":"&","\\":"\\",n:"\n",r:"\r",t:"\t",b:"\b",f:"\f"};e.SPECIALS=r;var n={null:null,true:!0,false:!1,undefined:void 0,this:void 0};e.LETTER=n;var o={"+":!0,"!":!0,"-":!0,"*":!0,"%":!0,"/":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"==":!0,"===":!0,"!=":!0,"!==":!0,"&&":!0,"||":!0,"|":!0};e.OPERATORS=o},function(t,e){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){Object.assign.apply(Object,i([e.prototype],t))}}function n(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(r){t.prototype[r]=e.prototype[r]})})}var o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.mixins=r,e.applyMixins=n},function(t,e,r){"use strict";function n(){return function(t,e){var r;switch(p.default.type(e)){case"function":r=e;break;case"string":case"number":case"boolean":case"null":case"undefined":case"object":r=o(e);break;default:return t}return t.filter(r)}}function o(t){return function(e){return a(e,t,i)}}function i(t,e){return"null"==p.default.type(t)||"null"==p.default.type(e)?t===e:"undefined"!=p.default.type(t)&&(t=(""+t).toLowerCase(),e=(""+e).toLowerCase(),t.includes(e))}function a(t,e,r){if("string"==p.default.type(e)&&e.startsWith("!"))return!a(t,e.substring(1),r);if("object"==p.default.type(t)){if("object"==p.default.type(e))for(var n in e)return a(t[n],e[n],r);var o=p.default.objVal(t);return o.some(function(t){return a(t,e,r)})}return r(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(29),s=r(30),c=r(31),l=new c.default,p=r(1),f=function(){function t(){this.pipes=l.pipes}return t.prototype.register=function(t,e){return l.register(t,e),this},t.prototype.pipe=function(t){return l.pipe(t)},t.prototype.parse=function(t){function e(t,e){switch(p.default.type(t)){case"string":var n=new u.default,o=new s.default(n,e),i=!1;":"==t.charAt(0)&&":"==t.charAt(1)&&(i=!0,t=t.substring(2));var a=o.parse(t);return a.constant&&(a.$$handelWatch=r.constantHandelWatch),i&&(a.$$handelWatch=a.literal?r.oneTimeLiteralHandelWatch:r.oneTimeHandelWatch),a.inputs&&(a.$$handelWatch=r.inputsHandelWatch),a;case"function":return t}}var r=this;return e(t,this.pipes)},t.prototype.constantHandelWatch=function(t,e,r,n){var o=t.$watch(function(){return n(t)},function(t,r,n){"function"==p.default.type(e)&&e.apply(this,arguments)},r);return o},t.prototype.oneTimeHandelWatch=function(t,e,r,n){var o,i=t.$watch(function(){return n(t)},function(t,r,n){o=t,"function"==p.default.type(e)&&e.apply(this,arguments),"undefined"!=p.default.type(t)&&n.$afterDigest(function(){"undefined"!=p.default.type(o)&&i()})},r);return i},t.prototype.oneTimeLiteralHandelWatch=function(t,e,r,n){var o,i=t.$watch(function(){return n(t)},function(t,r,n){o=t,"function"==p.default.type(e)&&e.apply(this,arguments),"undefined"!=p.default.type(t)&&n.$afterDigest(function(){"undefined"!=p.default.type(o)&&i()})},r);return i},t.prototype.inputsHandelWatch=function(t,e,r,n){n.inputs;return t.$watch(function(){},e,r)},t}(),d=new f;e.default=d;var h=new f;h.register("filter",n)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o={},i=function(){function t(){this.modules={name:"",requires:[]}}return t.prototype.clear=function(){this.modules={}},t.prototype.module=function(t,e,r){var n={};return e?this.modules=this.$$set(t,e,n,r):this.modules=this.$$get(t,n),this.modules},t.prototype.$$set=function(t,e,r,i){"hasOwnProperty"==t&&n.error("hasOwnProperty不能用于键名");var a=[],u=[],s=function(t,e,r,n){return void 0===r&&(r="push"),void 0===n&&(n=a),function(){return n[r]([t,e,arguments]),c}},c={name:t,requires:e,data:s("$provider","data","unshift"),provider:s("$provider","provider"),factory:s("$provider","factory"),value:s("$provider","value"),service:s("$provider","service"),config:s("$injector","invoke","push",u),run:function(t){return c._runQueue.push(t),c},pipe:s("$pipeProvider","register"),_invokeQueue:a,_configQueue:u,_runQueue:[]};return i&&c.config(i),this.modules=o[t]=c,c},t.prototype.$$get=function(t,e){return o.hasOwnProperty(t)?o[t]:void n.error("名称为"+t+"的module不存在！")},t}();e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=r(1),u=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.on=function(t,e){this.each(this.els,function(r,n){r.addEventListener(t,e,!1)})},e.prototype.off=function(t,e){this.each(this.els,function(r,n){r.removeEventListener(t,e,!1)})},e.prototype.hover=function(t,e){var r,n;try{for(var i=o(this.els),u=i.next();!u.done;u=i.next()){var s=u.value;if("function"!=a.default.type(t))throw new Error("hover方法：没有传递回调函数");s.addEventListener("mouseover",t,!1),"function"==a.default.type(e)&&s.addEventListener("mouseout",t,!1)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},e.prototype.click=function(t){var e,r;try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;"function"==a.default.type(t)&&u.addEventListener("click",t,!1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.toggle=function(){var t,e;try{for(var r=o(this.els),n=r.next();!n.done;n=r.next()){var i=n.value;!function(t,e){var r=0;t.addEventListener("click",function(){e[r++%e.length].call(this)},!1)}(i,arguments)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return this},e.prototype.scroll=function(t){var e,r;try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;"function"==a.default.type(t)&&u.addEventListener("scroll",t,!1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.resize=function(t){var e,r;try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value,s=u.offsetLeft,c=u.offsetWidth,l=u.offsetTop,p=u.offsetHeight;window.onresize=function(){t(),s>=a.default.page().width-c&&(s=a.default.page().width-c),l>=a.default.page().height-p&&(l=a.default.page().height-p)}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e}(i.default);e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(3),i=r(14),a=r(11),u=r(13),s=r(15),c=r(8),l=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(o.default);c.applyMixins(l,[i.default,a.default,u.default,s.default]);var p=function(t){var e=new l(t);return e};e.default=p},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.show=function(t){var e,r,n,i;if(t&&"number"==typeof t){var a=function(e){setTimeout(function(){e.style.display="none"},t||500)};try{for(var u=o(this.els),s=u.next();!s.done;s=u.next()){var c=s.value;a(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}else if(!t)try{for(var l=o(this.els),p=l.next();!p.done;p=l.next()){var c=p.value;c.style.display="block"}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return this},e.prototype.hide=function(t){var e,r,n,i;if(t&&"number"==typeof t){var a=function(e){setTimeout(function(){e.style.display="block"},t||500)};try{for(var u=o(this.els),s=u.next();!s.done;s=u.next()){var c=s.value;a(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}else if(!t)try{for(var l=o(this.els),p=l.next();!p.done;p=l.next()){var c=p.value;c.style.display="none"}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return this},e}(i.default);e.default=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=r(1),u=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.html=function(t){if(!t||"string"==a.default.type(t))return t?(this.each(this.els,function(e,r){e.innerHTML=t}),this):this.els[0].innerHTML},e.prototype.text=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;if(0==arguments.length)return u.innerText||u.textContent;1==arguments.length&&(u.innerText?u.innerText=t:u.textContent=t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.css=function(t,e){var r,n;if(!(t&&"string"!=a.default.type(t)||e&&"string"!=a.default.type(e)))try{for(var i=o(this.els),u=i.next();!u.done;u=i.next()){var s=u.value;if(1==arguments.length)return window.getComputedStyle(s,null)[t];if(2==arguments.length)return s.style[t]=e,this}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.width=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;if(!t)return u.offsetWidth;u.style.width=t}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.height=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;if(!t)return u.offsetHeight;u.style.height=t}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.attr=function(t,e){var r,n;if("string"==a.default.type(t)&&(!e||"string"==a.default.type(e)))try{for(var i=o(this.els),u=i.next();!u.done;u=i.next()){var s=u.value;if(1==arguments.length){if(s.hasAttribute(t))return s.getAttribute(t)}else if(2==arguments.length)return s.setAttribute(t,e),this}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.val=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;if(1==arguments.length){var s=u.getAttribute("value");u.setAttribute(s,t)}else if(0==arguments.length)return u.nodeName.match(/INPUT|TEXTAREA|SELECT|RADIO|CHECKBOX/)?u.value:u.getAttribute("value")}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.addClass=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;u.classList.add(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.removeClass=function(t){var e,r;if(!t||"string"==a.default.type(t)){try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;u.classList.remove(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this}},e.prototype.toggleClass=function(t){var e,r;if(!t||"string"==a.default.type(t))try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;return!!u.classList.toggle(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e}(i.default);e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=r(1),u=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.hasAttrs=function(){var t,e;try{for(var r=o(this.els),n=r.next();!n.done;n=r.next()){var i=n.value;return!!i.hasAttributes()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.hasAttr=function(t){var e,r;if(!t||"string"==a.default.type(t))try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;return!!u.hasAttribute(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e.prototype.hasClass=function(t){var e,r;if(!t||"string"==a.default.type(t))try{for(var n=o(this.els),i=n.next();!i.done;i=n.next()){var u=i.value;return!!u.classList.contains(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e}(i.default);e.default=u},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Cookie={support:function(){return!(!document.cookie&&!navigator.cookieEnabled)},set:function(t,e,r){var n=t+"="+encodeURIComponent(e);if(console.log(123),r&&void 0!=r.hours){var o=new Date;o.setHours(o.getHours()+r.hours),n+="; expires="+o.toUTCString()}n+=r&&r.path?"; path="+r.path:"",n+=r&&r.domain?"; domain="+r.domain:"",n+=r&&r.secure?"; secure="+r.secure:"",document.cookie=n},get:function(name){var len=arguments.length;if(0==len){var cs=document.cookie,arr=[],arr2=[],obj={};arr=cs.split(";");for(var i=0;i<arr.length;i++){var a=arr[i].split("="),a1=[a[0].trim(),decodeURIComponent(a[1])];arr2.push(a1)}return JSON.stringify(arr2)}if(1==len){var reg=eval("/(?:^|;\\s*)"+name+"=([^=]+)(?:;|$)/");return reg.test(document.cookie)?decodeURIComponent(RegExp.$1):""}},remove:function(t,e){if(0==arguments.length)for(var r=this.get(),n=0;n<r.length;n++)this.set(r[n][0],"",-1);this.set(t,e||"",{hours:-1})}};exports.default=Cookie},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),o=r(1),i=function(){function t(){this.data={},this.name="",this.token=void 0,this.props={},this.componentStatus=""}return t.prototype.$data=function(t,e){var r=arguments.length;switch(r){case 0:return this.data;case 1:return this.data[t];case 2:var i=o.default.deepClone(this.data);this.data[t]=e;var a=this.data;n.default.trigger(t,o.default.clone({target:this.token,which:this.name,old:i,new:a,oldVal:i[t],newVal:a[t],props:void 0==this.props?{}:this.props,componentStatus:this.componentStatus}))}},t}(),a=new i;e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),o=function(){function t(){}return t.prototype.trigger=function(t,e){n.default.trigger(t,e)},t.prototype.listen=function(t,e){n.default.listen(t,e)},t}(),i=new o;e.default=i},function(t,e,r){"use strict";function n(t){t.name&&(t.name&&"string"!=i.default.type(t.name)&&o.error("组件"+t.name+"的名称必须为字符串"),t.components&&"array"!=i.default.type(t.components)&&o.error("组件"+t.name+"的components属性应为数组！"),t.style&&"string"!=i.default.type(t.style)&&o.error("组件"+t.name+"的style属性应为字符！"),t.styleId&&("string"!=i.default.type(t.styleId)&&o.error("组件"+t.name+"的styleId属性应为字符！"),void 0==document.querySelector(t.styleId)&&o.error("节点"+t.styleId+"不存在")),t.template&&"string"!=i.default.type(t.template)&&o.error("组件"+t.name+"的template属性应为字符！"),t.templateId&&("string"!=i.default.type(t.templateId)&&o.error("组件"+t.name+"的templateId属性应为字符！"),void 0==document.querySelector(t.templateId)&&o.error("节点"+t.templateId+"不存在")),t.data&&"object"!=i.default.type(t.data)&&o.error("组件"+t.name+"的data属性应为对象！"),t.props&&("object"!=i.default.type(t.props)&&o.error("组件"+t.name+"的props属性应为对象！"),Object.entries(t.props).forEach(function(e){i.default.type(e[1].default)!=e[1].type&&o.error("组件"+t.name+"props属性中元素"+e[0]+"的default值非"+e[1].type+"类型！")})),t.beforeRender&&"function"!=i.default.type(t.beforeRender)&&o.error("组件"+t.name+"的beforeRender属性应为函数！"),t.render&&"function"!=i.default.type(t.render)&&o.error("组件"+t.name+"的render属性应为函数！"))}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(1);e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(1),i=r(22),a=r(19),u=r(4),s=new u.default;s.data("componentList",[]),s.service("component",function(){this.ensureOneInvokeComponent=function(t,e){for(var r={type:"yes"},n=[],o=[],i=0;i<e.length;i++)e[i].name==t&&n.push(t),o.push(e[i].name);return n.length>=2&&(r={type:"no",info:"只能有一个根组件，却发现"+n.length+"个"+t+"根组件"}),r}});var c=function(){function t(){this.CList=[],this.id=0,this.id=0}return t.bootstrap=function(t,e){function r(t,e){void 0===e&&(e=!1);var i=o.default.classToJson(t,e),u=i.componentJson;e&&(n=i.rootComponent),a.default(u),s.data("componentList",s.get("componentList").push(u)),u.components&&"array"==o.default.type(u.components)&&u.components.length&&u.components.forEach(function(t){r(t)})}var n={};r(e,!0);var u=new i.default(t,n,s.get("componentList"));u.componentToDom()},t.router=function(t){function e(t){"array"!=o.default.type(t)&&n.error("路由配置项需为数组形式")}e(t),t.forEach(function(t){var e=o.default.classToJson(t.component,!1);t.component=e.componentJson}),s.data("routerConfig",t)},t.prototype.directive=function(t,e){var r=e();r.id=this.id,this.CList.push(r),this.id++;var o=s.get("component").ensureOneInvokeComponent(t,this.CList);return"no"==o.type&&n.error(o.info),r},t.prototype.component=function(t){a.default(t);var e=o.default.deepClone(t);return Object.defineProperties(e,{isRoot:{value:!1,writable:!0},$el:{value:void 0,writable:!0},$props:{value:{},writable:!0}}),this.directive(t.name,function(){return e})},t.prototype.bootstrap=function(t,e){if("string"!=o.default.type(t)&&n.error(t+"应为字符串"),document.querySelector(t)||n.error("节点“"+t+"”不存在"),"object"!=o.default.type(e)&&n.error(e+"应为json对象"),2==arguments.length){a.default(e),e.name||n.error("找不到根组件的name属性"),s.data("rootComponent",e.name);var r=new i.default(t,e,this.CList);r.componentToDom()}},t.version="1.0.5",t}();e.default=c;var l=function(){function t(){this.components=[],this.name="",this.template="",this.data={},this.props={}}return t.prototype.render=function(){n.error("render方法必须被继承")},t}();e.Component=l},function(t,e,r){"use strict";function n(t,e,r){var n=new u(t,e,r);return n.tpl()}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(1),a=r(9),u=function(){function t(t,e,r){this.text=t,this.data=e,this.props=r}return t.prototype.combineData=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),"object"!=i.default.type(t)&&o.error("组件是属性data必须为对象"),"object"!=i.default.type(e)&&o.error("组件是属性props必须为对象"),i.default.isEmpty(e))return t;for(var r in e)t[r]=e[r].default;return t},t.prototype.tpl=function(){var t,e,r,n,o=this,u=0,s=[];if(void 0!=this.text){for(;u<this.text.length;){if(t=this.text.indexOf("{{",u),t!=-1&&(e=this.text.indexOf("}}",t+2)),t==-1||e==-1){s.push(this.text.substring(u));break}t!=u&&s.push(this.text.substring(u,t)),r=this.text.substring(t+2,e),n=a.default.parse(r),s.push(n),u=e+2}return s.reduce(function(t,e){return"function"==i.default.type(e)?t+o.expectNullUndefined(e(o.combineData(o.data,o.props))):t+e},"")}},t.prototype.expectNullUndefined=function(t){return"null"==i.default.type(t)||"undefined"==i.default.type(t)?"":"object"==typeof t?JSON.stringify(t):""+t},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(a,u)}s((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){s.label=r[1];break}if(6===r[0]&&s.label<a[1]){s.label=a[1],a=r;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(r);break}a[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),u=r(1),s=r(24),c=r(21),l=r(17),p=r(5),f=r(18),d=r(9),h=r(25),y=r(32),v=r(4),m=new v.default,g=/(x[\:\-_]|data[\:\-_])/i,b="c-data-id",x=function(){function t(t,e,r){this.selector=t,this.root=e,this.CList=r,this.CObj=this.listToObj(r),this.eventList=[],this.cRefList=[],this.showList=[],this.ifList=[],this.ifTpl={},this.cHtmlList=[],this.cForList=[],this.cRepeatList=[],this.cViewList=[],this.dataId=parseInt(u.default.now()),this.componentToken=[],this.componentNames=this.getComponentNameList(),this.componentAttrs={},this.templateId={},this.oneRootComponent=1,this.$router=void 0,this.$routerCache={}}return t.prototype.componentToDom=function(){function t(){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),[4,r()];case 2:return t.sent(),[4,i()];case 3:return t.sent(),[2]}})})}function e(){l=p.loopNodes(p.root.name,s.default.create(d),f)}function r(){p.root.template=l[0].outerHTML,p.root.isRoot=!0,p.templateId[l[0].getAttribute(b)]=l[0].outerHTML,p.loopComponents(f,p.root.data,p.root.components,p.root.name)}function i(){function t(){setTimeout(function(){function t(t){var e=t.component.name,r=t.delay||0;setTimeout(function(){p.cViewList.forEach(function(r){s.default.q(r.ele)&&(t.cache&&p.$routerCache.hasOwnProperty(e)?(s.default.q(r.ele).innerHTML=p.$routerCache[e],p.handelEventListener(p.CObj[e],s.default.q(r.ele).firstChild)):(s.default.q(r.ele).innerHTML="",s.default.q(r.ele).insertAdjacentHTML("afterbegin","<"+u.default._cameCase(e)+"></"+u.default._cameCase(e)+">"),p.loopNodes(e,s.default.q(r.ele).childNodes,[]),p.loopComponents([p.CObj[e]],p.CObj[r.which].data||{},[],r.which),setTimeout(function(){p.$routerCache[e]=s.default.q(u.default._cameCase(e)).outerHTML},0)))})},r)}if("complete"==window.document.readyState){var e=window.location.hash;if(""==e){var r=c();"object"==u.default.type(r)&&t(r)}else{var n=a(e.substr(1));void 0!=n&&t(n)}}window.addEventListener("hashchange",function(e){var r="";e.newURL.includes("/#")&&(r=e.newURL.split("/#")[1]);var n=a(r);void 0!=n&&t(n)},!1)},0)}m.has("routerConfig")&&t()}function a(t){var e=new y.default(t,m.get("routerConfig"));return p.$router=e,e.nowRouter}function c(){var t=void 0;return m.get("routerConfig").forEach(function(e){"/"==e.path&&(t=e)}),t}var l,p=this,f=[],d=s.default.wrapDom(this.theTpl(this.root),u.default._cameCase(this.root.name).toLowerCase());t()},t.prototype.theTpl=function(t){return(t.template?t.template.trim():void 0)||s.default.hasHtml(t.templateId)||s.default.hasHtmlUrl(t.templateUrl)},t.prototype.theStyle=function(t){function e(t){return void 0!=t&&{type:"string",result:t}}function r(t){return void 0!=s.default.q(t)&&{type:"id",result:t}}function n(t){return void 0!=t&&("object"==u.default.type(t)&&(t=t[0][1]),"array"==u.default.type(t)&&(t=t[1]),{type:"url",result:t})}return e(t.style)||r(t.styleId)||n(t.styleUrl)},t.prototype.loopNodes=function(t,e,r){for(var n=this,o=0;o<e.length;o++)if(1==e[o].nodeType){e[o].setAttribute("c-data-id",this.dataId);var i=this.getComponent(e[o],t);i.forEach(function(t){r&&r.push(u.default.deepClone(u.default.extend(n.CObj[t],{token:n.dataId})))}),this.dataId++,this.addDirectiveList(t,e[o]),e[o].childNodes&&e[o].childNodes.length&&this.loopNodes(t,e[o].childNodes,r)}return e},t.prototype.addDirectiveList=function(t,e){for(var r=0,n=e.attributes;r<n.length;r++){var o=this.normalizeDirective(n[r].name);if(o.match(/^cClick|cDbclick|cMouseover|cMousedown|cMouseup|cMousemove|cMouseout|cMouseleave|cBlur|cFocus|cChange|cInput|cDrag|cDragend|cDragenter|cDragleave|cDragover|cDragstart|cDrop|cFocus|cKeydown|cKeypress|cKeyup|cScroll|cSelect|cSubmit|cTtoggle|cResize|cWaiting|cProgress|cLoadstart|cDurationchange|cLoadedmetadata|cLoadeddata|cCanplay|cCanplaythrough|cPlay|cPause|cRef|cShow|cIf|cHtml|cFor|cRepeat|cView$/g))switch(o){case"cRef":this.cRefList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b)});break;case"cShow":this.showList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b),directive:o});var i=s.default.boolToDisplay(c.default(n[r].value,this.CObj[t].data,this.CObj[t].props));e.style.display=i;break;case"cIf":this.ifList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b),directive:o,html:e.outerHTML});var a=c.default(n[r].value,this.CObj[t].data,this.CObj[t].props);"true"==a&&(e.style.display="none");break;case"cHtml":this.cHtmlList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b),directive:o,html:e.outerHTML});break;case"cFor":this.cForList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b),html:e.innerHTML});break;case"cRepeat":this.cRepeatList.push({which:t,
type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b)});break;case"cView":this.cViewList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b)});break;default:this.eventList.push({which:t,type:n[r].name.split("-")[1],fn:n[r].value,ele:"["+b+'="'+e.getAttribute(b)+'"]',id:e.getAttribute(b)})}}},t.prototype.loopComponents=function(t,e,r,i){t.length&&void 0==r&&a.error("找不到组件为"+i+"的components属性");var u=this;t.forEach(function(t){function e(){return n(this,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:return[4,u.handelDataChange(t)];case 1:return r.sent(),[4,u.handelBeforeRender(t)];case 2:return e=r.sent(),[4,u.handelAfterRender(e,t)];case 3:return r.sent(),[2]}})})}void 0!=t&&(u.compareChildComponentAndInjectComponents(t.name,r),t.$data=l.default.$data,t.$http=h.default,t.$event=f.default,t.$router=u.$router,e())})},t.prototype.handelBeforeRender=function(t){return t.beforeRender&&(t.$el=void 0,t.$refs=void 0,t.componentStatus="beforeRender",t.beforeRender()),"beforeRenderIsDone"},t.prototype.handelAfterRender=function(t,e){function r(){return n(this,void 0,void 0,function(){var t,e,r,n,a,s,c;return o(this,function(o){switch(o.label){case 0:return[4,i()];case 1:return t=o.sent(),[4,u(t)];case 2:return e=o.sent(),[4,l(e)];case 3:return r=o.sent(),[4,p(r)];case 4:return n=o.sent(),[4,f(n)];case 5:return a=o.sent(),[4,d(a)];case 6:return s=o.sent(),[4,h(s)];case 7:return c=o.sent(),[2]}})})}function i(){return s.default.addStyle(y.theStyle(e),e),"done"}function u(t){if("done"==t){var r;if(e.name==y.root.name){2==y.oneRootComponent&&a.error("根组件"+y.root.name+"只能有一个");var n=s.default.q(y.selector);void 0==n&&a.error("节点"+y.selector+"不存在"),n.innerHTML=c.default(y.theTpl(y.root),y.root.data,{}),r=s.default.q("["+b+'="'+e.token+'"]'),y.oneRootComponent++}else{var o=y.loopNodes(e.name,s.default.create(y.theTpl(y.CObj[e.name])));r=s.default.q("["+b+'="'+e.token+'"]'),y.templateId[e.token]=o[0].outerHTML;var i=s.default.combineAttrAndProps(y.componentAttrs[e.token],y.CObj[e.name].props);r.innerHTML=y.getChangedData(o[0].outerHTML,y.CObj[e.name].data,i)}return r}}function l(t){return y.loopCforToDom(y.cForList,e),t}function p(t){return y.loopIfToDom(y.ifList,e),y.loopHtmlToDom(y.cHtmlList,e),t}function f(t){e.$el=t,e.$refs={};var r=y.cRefList.filter(function(t){return t.which==e.name});return r.forEach(function(t){e.$refs[t.fn]=s.default.q(t.ele)}),e.componentStatus="afterRender",e.render(),t}function d(t){if(e.name!=y.root.name){var r=y.findComponent(t.firstChild);r.length&&e.name&&y.loopComponents(r,e.data,e.components,e.name)}return t}function h(t){y.handelEventListener(e,t)}if("beforeRenderIsDone"==t){var y=this;e.render&&r()}},t.prototype.compareChildComponentAndInjectComponents=function(t,e){var r=this,n=!1;n=!!(t=this.root.name)||!(!e.length&&t!=this.root.name)&&e.some(function(e){if(e.name)return t!=r.root.name&&t==e.name}),n||a.error("名称为"+t+"的组件未找到")},t.prototype.handelEventListener=function(t,e){var r=s.default.getAttr(b,e),n=this.array_intersection(r,this.eventList);if(n.length){var o=n.filter(function(e){return e.which==t.name});o.forEach(function(e){var r,n;if(document.querySelectorAll(e.ele))try{try{for(var o=i(document.querySelectorAll(e.ele)),u=o.next();!u.done;u=o.next()){var s=u.value;s.addEventListener(e.type,function(r){try{e.fn.toString().match(/\(\)$/)?t.hasOwnProperty(e.fn.toString().split("()")[0])?d.default.parse(e.fn)(t,{$event:r}):a.error("组件"+t.name+"中不存在方法"+e.fn):a.error("组件"+t.name+"中方法"+e.fn+"语法错误")}catch(t){console.log(t)}},!1)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}catch(t){a.error(t)}else a.error("属性为"+e.ele+"的节点不存在！")})}},t.prototype.handelDataChange=function(t,e){var r=this,n=function(e){p.default.listen(e,function(n){if(n.target==t.token&&JSON.stringify(n.oldVal)!=JSON.stringify(n.newVal)){var o=s.default.create(r.templateId[t.token]),i=r.dataPosition(e,o,t.name);r.updateData(e,n),s.default.q(u.default._cameCase(t.name))&&r.dataChangeToDom(o,i,n,t.name)}})};for(var o in t.data)n(o)},t.prototype.updateData=function(t,e){var r=e.which;this.CObj[r].data[t]=e.newVal},t.prototype.dataChangeToDom=function(t,e,r,n){this.loopTextToDom(t,e,r,n),this.loopAttrToDom(e,r,n)},t.prototype.loopTextToDom=function(t,e,r,n){var o=e.filter(function(t){return"text"==t.type});o.length&&o.forEach(function(e){var n=t[0].parentNode.querySelector(e.position).childNodes[e.item].textContent;document.querySelector(e.position).childNodes[e.item].textContent=c.default(n,r.new,r.props)})},t.prototype.loopAttrToDom=function(t,e,r){var n=this,o=this,i=t.filter(function(t){return"attr"==t.type});i.length&&i.forEach(function(i){function a(t){s.default.q(t.position).setAttribute(t.attr,e.newVal),o.componentAttrs[t.componentToken][t.attr]=e.newVal}function u(t){var e=o.dataPosition(t.attr,s.default.create(o.templateId[t.componentToken]),r),n=e.filter(function(t){return"text"==t.type});n.forEach(function(e){var r=o.CObj[t.componentName],n=r.props,i=r.data,a=t.attr,u=o.componentAttrs[t.componentToken][t.attr],l=o.combineChangedProps(a,u,n),p=s.default.create(o.templateId[t.componentToken]),f=p[0].parentNode.querySelector(e.position).childNodes[e.item].textContent;s.default.q(e.position).childNodes[e.item].textContent=c.default(f,i,l)});var i=e.filter(function(t){return"attr"==t.type});i.forEach(function(e){t.attr==e.value&&(e.value=t.value),s.default.q(e.position).setAttribute(e.attr,e.value),o.componentAttrs[e.componentToken][e.attr]=e.value,o.componentAttrs[e.componentToken][e.attr]=e.value,e.isComponent&&u(e)})}switch(i.attr){case"c-show":var l=s.default.boolToDisplay(d.default.parse(i.value)(e.new));s.default.q(i.position).style.display=l;break;case"c-if":var p=s.default.q(i.position);void 0!=p&&s.default.q(i.position).setAttribute(i.attr,e.newVal),n.handelIf(i,r);break;case"c-for":n.loopCforToDom(t,n.CObj[r],"dataChange");break;default:a(i)}i.isComponent&&u(i)})},t.prototype.loopCforToDom=function(t,e,r){var n=this,o=t.filter(function(t){return t.which==e.name}),i=this;o.forEach(function(t){var o=t.fn.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);o||a.error("c-for格式有误");var l=(o[1],o[2]),p=n.inComponent(l,e);p&&"array"==u.default.type(p)&&p.length?("dataChange"==r&&s.default.removeDomExpectWhich(0,'[c-for-id="'+s.default.q(t.ele).getAttribute("c-for-id")+'"]'),p.forEach(function(r,n){var a=s.default.q(t.ele).cloneNode(!0),l={};l[o[1]]=r,a.innerHTML=c.default(t.html,l,i.CObj[e.name].props||{});var p=i.loopNodes(e.name,s.default.create(a.outerHTML)),f=i.findComponent(p[0]);if(p[0].setAttribute("c-for-id",t.id),0==n)s.default.q(t.ele).innerHTML=p[0].innerHTML,s.default.q(t.ele).setAttribute("c-for-id",t.id);else{var d=document.querySelectorAll('[c-for-id="'+t.id+'"][c-for="'+t.fn+'"]');d[d.length-1].insertAdjacentElement("afterEnd",p[0])}f.length&&i.loopComponents(u.default.deepClone(f),l,[],e.name)})):a.error("组件"+e.name+"内c-for指令的格式不正确")})},t.prototype.loopIfToDom=function(t,e){var r=this,n=t.filter(function(t){return t.which==e.name});n.forEach(function(t){r.handelIf(t,e.name)})},t.prototype.handelIf=function(t,e){var r=s.default.q(t.ele||t.position);if(void 0!=r){var n=r.getAttribute("c-if");"true"==n&&(r.parentNode.replaceChild(s.default.addComment("c-if:"+t.id),r),this.ifTpl[t.id]=r.outerHTML)}void 0==r&&(s.default.replaceComment(s.default.q(u.default._cameCase(e)),t.attr+":"+t.id,s.default.create(this.ifTpl[t.id])[0]),s.default.attr(t.ele||t.position,"c-if",!1),s.default.q(t.ele||t.position).style.display="block")},t.prototype.loopHtmlToDom=function(t,e){var r=t.filter(function(t){return t.which==e.name});r.forEach(function(t){s.default.q(t.ele).innerHTML=s.default.attr(t.ele,"c-html")})},t.prototype.combineChangedProps=function(t,e,r){return r[t]&&(r[t].default=e),r},t.prototype.array_intersection=function(t,e){for(var r=[],n=0;n<e.length;n++)for(var o=e[n].id,i=0;i<t.length;i++)if(o===t[i]){r.push(e[n]);break}return r},t.prototype.isComponent=function(t){var e=s.default.parseName(t);return void 0!=this.CObj[e]},t.prototype.isComponentData=function(t,e){var r=new RegExp("{{\\s*([\\s\\S]*"+t+"[\\s\\S]*)\\s*}}","gm"),n=r.exec(e);if(null==n)return null;var o={"":!0,"+":!0,"-":!0,"*":!0,"/":!0,"(":!0,")":!0,".":!0,"[":!0,"]":!0,"!":!0,"!=":!0,"!==":!0,">":!0,">=":!0,">==":!0,"<":!0,"<=":!0,"<==":!0,"?":!0,":":!0},i=n[1].indexOf(t),a=n[1].charAt(i-1),u=n[1].charAt(i-2),s=n[1].charAt(i-3),c=n[1].charAt(i+1),l=n[1].charAt(i+2),p=n[1].charAt(i+3);return o[a]||o[u]||o[s]||o[c]||o[l]||o[p]?n[1]:null},t.prototype.dataPosition=function(t,e,r){function n(e){if("object"==typeof e&&e.length)for(var o=0;o<e.length;o++)if(1==e[o].nodeType&&e[o].hasAttributes()){for(var c=0,l=e[o].attributes;c<l.length;c++)if("c-for"==l[c].name){var p=l[c].value.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);p||a.error("组件"+r+"内的c-for指令表达式"+l[c]+"有误"),p[2]!=t||u.isComponent(e[o])||(i=i.concat({attr:l[c].name,fn:l[c].value,type:"attr",id:e[o].getAttribute(b),ele:"["+b+'="'+e[o].getAttribute(b)+'"]',item:o,isComponent:!1,html:e[o].innerHTML,which:r}))}else{var f=u.isComponentData(t,l[c].value);if(f){var d=u.isComponent(e[o]);i=d?i.concat({attr:l[c].name,value:t,type:"attr",id:e[o].getAttribute(b),position:"["+b+'="'+e[o].getAttribute(b)+'"]',item:o,isComponent:!0,componentName:s.default.parseName(e[o]),componentToken:e[o].getAttribute(b),which:r}):i.concat({attr:l[c].name,value:f,type:"attr",id:e[o].getAttribute(b),position:"["+b+'="'+e[o].getAttribute(b)+'"]',item:o,isComponent:!1,which:r})}}e[o].childNodes&&e[o].childNodes.length&&n(e[o].childNodes)}}function o(e){if("object"==typeof e&&e.length)for(var r=0;r<e.length;r++){if(3==e[r].nodeType){var n=e[r].textContent;u.isComponentData(t,n)&&(i=i.concat({value:t,type:"text",position:"["+b+'="'+e[r].parentNode.getAttribute(b)+'"]',item:r,isComponent:!1}))}e[r].childNodes&&e[r].childNodes.length&&o(e[r].childNodes)}}var i=[],u=this;return n(e),o(e),i},t.prototype.listToObj=function(t){var e={};return t.forEach(function(t){e[t.name]=t}),e},t.prototype.getComponentNameList=function(){var t=[];return this.CList.forEach(function(e){t.push(e.name)}),t},t.prototype.findComponent=function(t){function e(t){var o=n.normalizeDirective(s.default.getNodeName(t).toLowerCase());n.componentNames.includes(o)&&r.push(u.default.extend(n.CObj[o],{token:t.getAttribute(b)})),t.childNodes&&t.childNodes.length&&t.childNodes.forEach(function(t){3!=t.nodeType&&e(t)})}if(3!=t.nodeType){var r=[],n=this;return e(t),r}},t.prototype.getComponent=function(t,e){function r(t){var r=u.default.cameCase(s.default.getNodeName(t).toLowerCase());if(o.componentNames.includes(r)){n.push(r);for(var i={},a=0,l=t.attributes;a<l.length;a++)l[a].name!=b&&(i[l[a].name]=c.default(l[a].value,o.CObj[e].data,o.CObj[e].props));s.default.noOtherAttr(b,t)||(i.component=r,o.componentAttrs[t.getAttribute(b)]=i)}}var n=[],o=this;return r(t),n},t.prototype.directiveIsMulit=function(t){for(var e=0,r=this.CList;e<r.length;e++)if(r[e].name==t&&1==r[e].mulit)return!0;return!1},t.prototype.componentLayer=function(t,e){var r=e.layer-t.layer;return 0==r?t.name!=e.name?t.name<e.name?-1:1:t.cid-e.cid:r},t.prototype.getChangedData=function(t,e,r){return c.default(t,e,r)},t.prototype.normalizeDirective=function(t){return u.default.cameCase(t.replace(g,""))},t.prototype.inComponent=function(t,e){return e.data[t]||e.props.default[t]},t}();e.default=x},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["constructor","__proto__","__defineGetter__","__defineSetter__","__lookupGetter__","__loopupSetter__"];e.PROPERTY=r;var n=["document","alert","location","setInterval","setTimeout"];e.WINDOW=n;var o=["nodeName","children"];e.NODE=o;var i=[Function.prototype.call,Function.prototype.apply,Function.prototype.bind];e.FUN=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2),i=function(){function t(){this.BOOLEAN_ATTRS={selected:!0},this.BOOLEAN_ELEMENT={}}return t.prototype.q=function(t){return document.querySelector(t)},t.prototype.createDom=function(t){"string"!=n.default.type(t)&&o.error("组件模板"+t+"必须为字符串，请检查组件的template,templateId,templateUrl属性");var e=""+t;e=e.trim(),e=e.replace(/<!--[\s\S]*?-->/gm,""),e=e.replace(/>\s+([^\s<]*)\s+</gm,">$1<").trim();for(var r,i=/([^>]*)(<([a-z\/][-a-z0-9_:.]*)[^>\/]*(\/*)>)([^<]*)/gm,a=(Date.now(),[]);r=i.exec(e);){var u=(r[1],r[2],r[3]);r[4],r[5];a.push(u)}var s=document.createElement(a[0]);return s.innerHTML=t,s},t.prototype.create=function(t){var e=this.createDom(t);return e.childNodes},t.prototype.getNodeName=function(t){return t.nodeName?t.nodeName:t[0].nodeName},t.prototype.parseName=function(t){return n.default.cameCase(t.tagName.toLowerCase())},t.prototype.wrapDom=function(t,e){return"<"+e+">"+t+"</"+e+">"},t.prototype.getAttr=function(t,e){function r(e){for(var o=0;o<e.length;o++)1==e[o].nodeType&&e[o].getAttribute(t)&&n.push(e[o].getAttribute(t)),e[o].childNodes&&e[o].childNodes.length&&r(e[o].childNodes)}var n=[];return 1==e.nodeType&&e.getAttribute(t)&&n.push(e.getAttribute(t)),e.childNodes&&e.childNodes.length&&r(e.childNodes),n},t.prototype.combineAttrAndProps=function(t,e){if(n.default.isEmpty(t))return e;if(t){var r=n.default.expectSome(t,"component");for(var o in r)e&&e[o]&&(e[o].default=r[o])}return e},t.prototype.noOtherAttr=function(t,e){if(1==e.nodeType&&e.attributes){if(e.attributes.length>=2)return!1;if(1==e.attributes.length)return e.attributes[0].name==t}},t.prototype.boolToDisplay=function(t){return"true"==t||1==t?"block":"false"==t||0==t?"none":void 0},t.prototype.expectSomeAttr=function(t,e){var r={};if(t.attributes&&t.attributes.length)for(var n=0,o=t.attributes;n<o.length;n++)o[n].name!=e&&(r[o[n].name]=o[n].value);return r},t.prototype.addComment=function(t){var e=document.createComment(t);return e},t.prototype.replaceComment=function(t,e,r){for(var n=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,null,!1),o=n.nextNode();o;)o.nodeValue==e&&o.parentNode.replaceChild(r,o),o=n.nextNode()},t.prototype.attr=function(t,e,r){var n=this.q(t);if(void 0!=n&&(3==arguments.length&&n.setAttribute(e,r),2==arguments.length))return n.getAttribute(e)},t.prototype.hasHtml=function(t){if(a.q(t))return a.q(t).innerHTML},t.prototype.hasHtmlUrl=function(t){return t},t.prototype.addStyle=function(t,e){if(void 0==e.name&&o.error("找不到组件的name属性，无法添加style样式"),void 0!=t){var r=n.default._cameCase(e.name);switch(t.type){case"string":this.appendStyle(t.result,r);break;case"id":void 0==this.q(t.result)&&o.error("名称为"+e.name+"组件中，节点"+t.result+"不存在");var i=this.q(t.result).innerHTML;this.appendStyle(i,r);break;case"url":this.appendStyle(t.result,r)}}},t.prototype.appendStyle=function(t,e){var r=""+t;r=n.default.trimStr(r);var o=document.createElement("style");o.type="text/css",o.title=e,o.innerHTML=r,this.q("head").appendChild(o),this.addSelectorPrefix(e)},t.prototype.addSelectorPrefix=function(t){for(var e=document.styleSheets,r=0;r<e.length;r++)if(e[r].title==t)for(var n=0,o=e[r].cssRules;n<o.length;n++)o[n].selectorText=t+" "+o[n].selectorText},t.prototype.removeDomExpectWhich=function(t,e){for(var r=document.querySelectorAll(e),n=0;n<r.length;n++)n!=t&&r[n].parentNode.removeChild(r[n])},t.prototype.watch=function(t){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=document.querySelector(t),n=new e(function(t){}),o={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};n.observe(r,o)},t.prototype.booleanAttr=function(t,e){},t}(),a=new i;e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(26),o=function(){function t(){}return t.prototype.ajax=function(t){var e=t.type,r=void 0===e?"get":e,o=t.url,i=void 0===o?"":o,a=t.data;return n.parseHttp(r,i,a)},t.prototype.get=function(t){return n.parseHttp("get",t,null)},t.prototype.post=function(t,e){return n.parseHttp("post",t,e)},t.prototype.put=function(t,e){return n.parseHttp("put",t,e)},t.prototype.delete=function(t,e){return n.parseHttp("delete",t,e)},t}(),i=new o;e.default=i},function(t,e,r){"use strict";function n(t,e,r){"string"==o.default.type(t)||a.includes(t.toLowerCase())||i.error("http请求类型必须为"+a+"中的一个"),"string"!=o.default.type(e)&&i.error("http请求的url参数需为字符"),r&&"object"!=o.default.type(r)&&i.error("http请求的data参数需为对象");var n=new Promise(function(n,o){function i(){4==this.readyState&&(200==this.status?n(this.response):o(new Error(this.statusText)))}var a=new XMLHttpRequest;a.open(t,e),a.onreadystatechange=i,a.responseType="json",a.setRequestHeader("Accept","application/json"),a.send(r||null)});return n}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=r(2),a=["get","post","put","delete","head","options"];e.parseHttp=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),o=r(7),i=r(1),a=function(){function t(t){this.lexer=t,this.tokens=[]}return t.prototype.ast=function(t){return this.tokens=this.lexer.lex(t),this.init()},t.prototype.init=function(){for(var t=[];;)if(this.tokens.length&&t.push(this.pipeBuilder()),!i.default.expect(this.tokens,";"))return n.ast_init.body={},n.ast_init.body=t,i.default.clone(n.ast_init)},t.prototype.agency=function(){var t;i.default.expect(this.tokens,"(")?(t=this.pipeBuilder(),i.default.consume(this.tokens,")")):i.default.expect(this.tokens,"[")?t=this.arrayBuilder():i.default.expect(this.tokens,"{")?t=this.objectBuilder():o.LETTER.hasOwnProperty(this.tokens[0].text)?"this"==this.tokens[0].text?t=i.default.clone(n.ast_this):(n.ast_constant.value=o.LETTER[i.default.consume(this.tokens).text],t=i.default.clone(n.ast_constant)):t=i.default.exitFirst(this.tokens).identifier?this.identifierBuilder():this.constantBuilder();for(var e;e=i.default.expect(this.tokens,".","[","(");)t=this.memberBuilder(e,t);return t},t.prototype.closingTags=function(t){var e=[],r=this;if(!i.default.exitFirst(this.tokens,t))do{if(i.default.exitFirst(this.tokens,t))break;e.push(r.agency())}while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,t),e},t.prototype.constantBuilder=function(){return n.ast_constant.value=i.default.consume(this.tokens).value,i.default.clone(n.ast_constant)},t.prototype.identifierBuilder=function(){return n.ast_identifier.value=i.default.consume(this.tokens).value,i.default.clone(n.ast_identifier)},t.prototype.arrayBuilder=function(){return n.ast_array.value=this.closingTags("]"),i.default.clone(n.ast_array)},t.prototype.objectBuilder=function(){var t=[];if(!i.default.exitFirst(this.tokens,"}"))do n.ast_json.key=this.constantBuilder(),i.default.consume(this.tokens,":"),n.ast_json.value=this.assignmentBuilder(),t.push(i.default.clone(n.ast_json));while(i.default.expect(this.tokens,","));return i.default.consume(this.tokens,"}"),n.ast_object.value=t,i.default.clone(n.ast_object)},t.prototype.memberBuilder=function(t,e){return"["===t.text&&(e={type:n.dataType[7],object:e,property:this.agency(),computed:!0},i.default.consume(this.tokens,"]")),"."===t.text&&(e={type:n.dataType[7],object:e,property:this.identifierBuilder(),computed:!1}),"("===t.text&&(e={type:n.ast_function.type,callee:e,arguments:this.closingTags(")"),pipe:!1}),e},t.prototype.assignmentBuilder=function(){var t=this.ternaryBuilder();if(i.default.expect(this.tokens,"=")){var e=this.ternaryBuilder();return n.ast_assignment.left=t,n.ast_assignment.right=e,i.default.clone(n.ast_assignment)}return t},t.prototype.unaryBuilder=function(){var t=i.default.expect(this.tokens,"+","!","-");return t?(n.ast_unary.operator=t.text,n.ast_unary.value=this.unaryBuilder(),i.default.clone(n.ast_unary)):t?void 0:this.agency()},t.prototype.multiplicativeBuilder=function(){for(var t,e=this.unaryBuilder();t=i.default.expect(this.tokens,"*","%","/");)n.ast_binary.operator=t.text,n.ast_binary.left=e,n.ast_binary.right=this.unaryBuilder(),e=i.default.clone(n.ast_binary);return e},t.prototype.additiveBuilder=function(){for(var t,e=this.multiplicativeBuilder();t=i.default.expect(this.tokens,"+","-");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.multiplicativeBuilder()};return e},t.prototype.relationalBuilder=function(){for(var t,e=this.additiveBuilder();t=i.default.expect(this.tokens,">","<",">=","<=");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.additiveBuilder()};return e},t.prototype.equalityBuilder=function(){for(var t,e=this.relationalBuilder();t=i.default.expect(this.tokens,"==","===","!=","!==");)e={type:n.ast_binary.type,operator:t.text,left:e,right:this.relationalBuilder()};return e},t.prototype.andBuilder=function(){for(var t,e=this.equalityBuilder();t=i.default.expect(this.tokens,"&&");)e={type:n.ast_logical.type,operator:t.text,left:e,right:this.equalityBuilder()};return e},t.prototype.orBuilder=function(){for(var t,e=this.andBuilder();t=i.default.expect(this.tokens,"||");)e={type:n.ast_logical.type,operator:t.text,left:e,right:this.andBuilder()};return e},t.prototype.ternaryBuilder=function(){var t=this.orBuilder();if(i.default.expect(this.tokens,"?")){var e=this.assignmentBuilder();if(i.default.consume(this.tokens,":")){var r=this.assignmentBuilder();return{type:n.ast_teranry.type,boolean_expression:t,true_value:e,error_value:r}}}return t},t.prototype.pipeBuilder=function(){for(var t=this.assignmentBuilder();i.default.expect(this.tokens,"|");){var e=[t];for(t={type:n.ast_function.type,callee:this.identifierBuilder(),arguments:e,pipe:!0};i.default.expect(this.tokens,":");)e.push(this.assignmentBuilder())}return t},t}();e.default=a},function(t,e,r){"use strict";function n(t){var e=l.PROPERTY.some(function(e){return e===t});e&&c.error(t+"存在编译风险")}function o(t){if(void 0!=t){var e=l.WINDOW.every(function(e){return t[e]}),r=l.NODE.every(function(e){return t[e]});return(e||r||t.constructor==t||t.getOwnPropertyDescriptor||t.getOwnPropertyNames)&&c.error(t+"存在编译风险"),t}}function i(t){var e=l.FUN.some(function(e){return e==t});(e||t.constructor==t)&&c.error(t+"存在编译风险")}function a(t,e){return void 0===e&&(e=0),"undefined"==typeof t?e:t}function u(t){return f[t]}Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),c=r(2),l=r(23),p=r(1),f={},d=function(){function t(t,e){this.astBuilder=t,this.state={body:[],compileId:0,echo:[],pipes:{}},this.ast={},f=e}return t.prototype.compile=function(t){this.ast=this.astBuilder.ast(t),this.handelTree(this.ast),this.constantExpr(this.ast);var e=this.pipePrefix()+"var fn = function(scope, local){"+(this.state.echo.length?"var "+this.state.echo.join(",")+";":"")+this.state.body.join("")+"}; return fn;",r=new Function("safeProperty","safeObject","safeFunction","isUndefined","pipe",e)(n,o,i,a,u);return r.literal=this.isLiteral(),r.constant=this.ast.constant,r},t.prototype.handelTree=function(t,e,r){switch(void 0===e&&(e={context:void 0,name:void 0,computed:void 0}),t.type){case s.dataType[1]:this.initCompile(t);break;case s.dataType[2]:return this.metaCompile(t);case s.dataType[3]:return this.arrayCompile(t);case s.dataType[4]:return this.objectCompile(t);case s.dataType[5]:return this.identifierCompile(t,e,r);case s.dataType[6]:return this.thisCompile();case s.dataType[7]:return this.memberCompile(t,e,r);case s.dataType[8]:return this.functionCompile(t);case s.dataType[9]:return this.assigmentCompile(t);case s.dataType[10]:return this.unaryCompile(t);case s.dataType[11]:return this.binaryCompile(t);case s.dataType[12]:return this.logicalCompile(t);case s.dataType[13]:return this.ternaryCompile(t)}},t.prototype.initCompile=function(t){var e=this,r=p.default.clone(t.body),n=r.pop();r.forEach(function(t){e.state.body.push(e.handelTree(t))}),this.state.body.push("return ",this.handelTree(n),";")},t.prototype.metaCompile=function(t){return p.default.wrapString(t.value)},t.prototype.arrayCompile=function(t){var e=this,r=t.value.map(function(t){return e.handelTree(t)});return"["+r.join(",")+"]"},t.prototype.objectCompile=function(t){var e=this,r=t.value.map(function(t){var r=t.key.value,n=e.handelTree(t.value);return r+":"+n});return"{"+r.join(",")+"}"},t.prototype.identifierCompile=function(t,e,r){n(t.value);var o=this.incrementId();return p.default.conditionIsRight(this.state.body,p.default.hasProperty("local",t.value),p.default.concatCode(o,p.default.nonComputedMember("local",t.value))),r&&p.default.conditionIsRight(this.state.body,p.default.notExist(p.default.hasProperty("local",t.value))+" && scope && "+p.default.notExist(p.default.hasProperty("scope",t.value)),p.default.concatCode(p.default.nonComputedMember("scope",t.value),"{}")),p.default.conditionIsRight(this.state.body,p.default.notExist(p.default.hasProperty("local",t.value))+" && scope",p.default.concatCode(o,p.default.nonComputedMember("scope",t.value))),e&&(e.context=p.default.hasProperty("local",t.value)+"?local:scope",e.name=t.value,e.computed=!1),this.state.body.push("safeObject("+o+");"),o},t.prototype.thisCompile=function(){return"scope"},t.prototype.memberCompile=function(t,e,r){var o=this.incrementId(),i=this.handelTree(t.object,void 0,!0);if(e&&(e.context=i),t.computed){var a=this.handelTree(t.property);this.state.body.push("safeProperty("+a+");"),r&&p.default.conditionIsRight(this.state.body,p.default.notExist(p.default.computedMember(i,a)),p.default.concatCode(p.default.computedMember(i,a),"{}")),p.default.conditionIsRight(this.state.body,i,p.default.concatCode(o,"safeObject("+p.default.computedMember(i,a)+")")),e&&(e.name=a,e.computed=!0)}return t.computed||(n(t.property.value),r&&p.default.conditionIsRight(this.state.body,p.default.notExist(p.default.nonComputedMember(i,t.property.value)),p.default.concatCode(p.default.nonComputedMember(i,t.property.value),"{}")),p.default.conditionIsRight(this.state.body,i,p.default.concatCode(o,"safeObject("+p.default.nonComputedMember(i,t.property.value)+")")),e&&(e.name=t.property.value,e.computed=!1)),o},t.prototype.functionCompile=function(t){var e,r,n,o=this;return t.pipe?(r=this.pipeCompile(t.callee.value),n=t.arguments.map(function(t){return o.handelTree(t)}),r+"("+n.join(",")+")"):t.pipe?void 0:(e={context:void 0,name:void 0,computed:void 0},r=this.handelTree(t.callee,e),n=t.arguments.map(function(t){return"safeObject("+o.handelTree(t)+")"}),e.name&&(this.state.body.push("safeObject("+e.context+");"),r=e.computed?p.default.computedMember(e.context,e.name):p.default.nonComputedMember(e.context,e.name)),this.state.body.push("safeFunction("+r+");"),r+" && safeObject("+r+"("+n.join(",")+"))")},t.prototype.assigmentCompile=function(t){var e,r={context:void 0,name:void 0,computed:void 0};return this.handelTree(t.left,r,!0),e=r.computed?p.default.computedMember(r.context,r.name):p.default.nonComputedMember(r.context,r.name),p.default.concatCode(e,"safeObject("+this.handelTree(t.right)+")")},t.prototype.unaryCompile=function(t){return t.operator+"(isUndefined("+this.handelTree(t.value)+"))"},t.prototype.binaryCompile=function(t){return p.default.inStr(t.operator,"+-")?"(isUndefined("+this.handelTree(t.left)+")"+t.operator+"isUndefined("+this.handelTree(t.right)+"))":"("+this.handelTree(t.left)+t.operator+this.handelTree(t.right)+")"},t.prototype.logicalCompile=function(t){var e=this.incrementId();return this.state.body.push(p.default.concatCode(e,this.handelTree(t.left))),p.default.conditionIsRight(this.state.body,"&&"==t.operator?e:p.default.notExist(e),p.default.concatCode(e,this.handelTree(t.right))),e},t.prototype.ternaryCompile=function(t){var e=this.incrementId(),r=this.incrementId();return this.state.body.push(p.default.concatCode(r,this.handelTree(t.boolean_expression))),p.default.conditionIsRight(this.state.body,r,p.default.concatCode(e,this.handelTree(t.true_value))),p.default.conditionIsRight(this.state.body,p.default.notExist(r),p.default.concatCode(e,this.handelTree(t.error_value))),e},t.prototype.pipeCompile=function(t){var e=this.state.pipes;return e.hasOwnProperty("name")||(e[t]=this.incrementId(!0)),e[t]},t.prototype.pipePrefix=function(){var t=this.state.pipes;if("{}"==JSON.stringify(t))return"";var e=[];for(var r in t)e.push(t[r]+"=pipe("+p.default.wrapString(r)+")");return"var "+e.join(",")+";"},t.prototype.incrementId=function(t){var e=p.default.compileId(this.state.compileId,this.state.echo,t);return this.state.compileId++,e},t.prototype.isLiteral=function(){var t=this.ast.body;return!t.length||1===t.length&&(t[0].type===s.dataType[2]||t[0].type===s.dataType[3]||t[0].type===s.dataType[4]||t[0].type===s.dataType[5])},t.prototype.constantExpr=function(t){function e(e){e.forEach(function(t){i.constantExpr(t),n=n&&t.constant}),t.constant=n}function r(){i.constantExpr(t.left),i.constantExpr(t.right),t.constant=t.left.constant&&t.right.constant}var n,o=this,i=this;switch(t.type){case s.dataType[1]:n=!0,e(t.body);break;case s.dataType[2]:t.constant=!0;break;case s.dataType[3]:n=!0,e(t.value),t.constant=n;break;case s.dataType[4]:n=!0,t.value.forEach(function(t){o.constantExpr(t.value),n=n&&t.value.constant}),t.constant=n;break;case s.dataType[5]:case s.dataType[6]:t.constant=!1;break;case s.dataType[7]:this.constantExpr(t.object),t.computed&&this.constantExpr(t.property),t.constant=t.object.constant&&(!t.computed||t.property.constant);break;case s.dataType[8]:n=t.pipe,e(t.arguments),t.constant=n;break;case s.dataType[9]:r();break;case s.dataType[10]:this.constantExpr(t.value),t.constant=t.value.constant;break;case s.dataType[11]:case s.dataType[12]:r();break;case s.dataType[13]:this.constantExpr(t.boolean_expression),this.constantExpr(t.true_value),this.constantExpr(t.error_value),t.constant=t.boolean_expression.constant&&t.true_value.constant&&t.error_value.constant}},t}();e.default=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(1),i=r(7),a=function(){function t(){this.index=0,this.now=void 0,this.tokens=[],this.text=""}return t.prototype.lex=function(t){for(this.text=t;this.index<this.text.length;)this.now=this.text.charAt(this.index),"number"==o.default.whichType(this.now)||"."===this.now&&o.default.whichType(o.default.nextLeter(this.index,this.text))?this.loopNumber():"string"==o.default.whichType(this.now)?this.loopString(this.now):"letter"==o.default.whichType(this.now)?this.loopLetter():o.default.isWhiteSpace(this.now)?this.index++:o.default.inStr(this.now,"[],{}.:()?;")?this.pushObj():this.loopOperator();return this.tokens},t.prototype.pushObj=function(){this.tokens.push({text:this.now,value:this.now}),this.index++},t.prototype.nextStr=function(t){return void 0===t&&(t=1),this.index+t<this.text.length&&this.text.charAt(this.index+t)},t.prototype.loopNumber=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index).toLowerCase();if("number"==o.default.whichType(e)||"."===e)t+=e;else{var r=o.default.nextLeter(this.index,this.text),i=t.charAt(t.length-1);if("e"==e&&o.default.isExponent(r))t+=e;else if(o.default.isExponent(e)&&"e"===i&&r&&o.default.isNumber(r))t+=e;else{if(!o.default.isExponent(e)||"e"!==i||r&&o.default.isNumber(r))break;n.error("指数格式错误！")}}this.index++}this.tokens.push({text:t,value:Number(t)})},t.prototype.loopString=function(t){this.index++;for(var e="",r=t;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,o==t)return this.index++,void this.tokens.push({text:r,value:e});e+=o==i.SPECIALS[o]?i.SPECIALS[o]:o,this.index++}n.error("无法匹配的符号")},t.prototype.loopLetter=function(){for(var t="";this.index<this.text.length;){var e=this.text.charAt(this.index);if(!o.default.isLetter(e)&&!o.default.isNumber(e))break;t+=e,this.index++}var r=i.LETTER.hasOwnProperty(t)?i.LETTER[t]:t;this.tokens.push({text:t,identifier:!0,value:r})},t.prototype.loopOperator=function(){var t=this.now,e=this.now+this.nextStr(1),r=this.now+this.nextStr(1)+this.nextStr(2),o=i.OPERATORS[t],a=i.OPERATORS[e],u=i.OPERATORS[r];if(o||a||u){var s=u?r:a?e:t;this.tokens.push({text:s,value:s}),this.index+=s.length}else n.error("未识别的字符"+this.now)},t}();
e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(27),o=r(28),i=function(){function t(t,e){this.lexer=t,this.astBuilder=new n.default(this.lexer),this.astCompile=new o.default(this.astBuilder,e)}return t.prototype.parse=function(t){return this.astCompile.compile(t)},t}();e.default=i},function(t,e,r){"use strict";function n(t){this.register=function(e,r){if("object"==i.default.type(e))for(var n in e)return this.register(n,e[n]);if("string"==i.default.type(e))return"function"!=i.default.type(r)&&o.error("注册的管道函数类型为function"),t.factory(e+"Pipe",r)},this.$get=["$injector",function(t){return function(e){return t.get(e+"Pipe")}}]}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=r(1),a=function(){function t(){this.pipes={}}return t.prototype.register=function(t,e){if("object"==i.default.type(t))for(var r in t)return this.register(r,t[r]);if("string"==i.default.type(t)){"function"!=i.default.type(e)&&o.error("注册的管道函数类型为function");var n=e();return this.pipes[t]=n,n}},t.prototype.pipe=function(t){return this.pipes[t]},t.prototype.returnPipes=function(){return this.pipes},t}();e.default=a,e.$pipeProvider=n,n.$inject=["$provider"]},function(t,e,r){"use strict";function n(t,e){i.get("routerConfig").forEach(function(r){r.path==t&&(r.params=e)}),i.data("routerConfig",i.get("routerConfig"))}Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),i=new o.default,a=function(){function t(t,e){this.url=t,this.routers=this._parseRouters(e),this.nowRouter=this._getNowRouter(t,this.routers),this.params=this.nowRouter&&this.nowRouter.params?this.nowRouter.params:{}}return t.prototype._getNowRouter=function(t,e){return t.includes("?")&&(t=t.substr(0,t.lastIndexOf("?"))),e.filter(function(e){return t.match(e.info.regexp)})[0]},t.prototype._parseRouters=function(t){var e=this;return t.forEach(function(t){var r=e._pathToReg(t.path);null!=r&&(t.info=r,e.params=t.params||{})}),t},t.prototype._pathToReg=function(t){var e={originalPath:t,regexp:t},r=e.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(t,e,n,o){var i="?"===o||"*?"===o?"?":null,a="*"===o||"*?"===o?"*":null;return r.push({name:n,optional:!!i}),e=e||"",""+(i?"":e)+"(?:"+(i?e:"")+(a&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$*])/g,"\\$1"),e.regexp=new RegExp("^"+t+"$",""),e},t.prototype.go=function(t){var e=t.path,r=void 0===e?"":e,o=t.params,i=void 0===o?{}:o;n(r,i),this.hash(r)},t.prototype.hash=function(t){return t?void(window.location.hash="#"+t):window.location.hash},t.prototype.reflesh=function(){var t=window.location.hash;window.location.hash="#",window.location.hash=t},t.prototype.back=function(){window.history.back()},t}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(1),i=r(10),a=new i.default,u=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,s=/^\s*(\S+)\s*$/,c=/(\/\*.*?\*\/)|(\/\/$)/gm,l=function(){function t(){}return t.prototype.inject=function(t,e){function r(t){return function(){var e=y.invoke(t);return"undefined"==o.default.type(e)&&n.error("factory函数必须有返回值"),e}}function i(t,e){function r(r){if(l(g),t.hasOwnProperty(r))return t[r];try{return t[r]=e(r)}finally{m&&delete t[r]}}function i(t,e,i,a){1==arguments.length&&(e=null);var u=p(t,a).map(function(t){return"string"==o.default.type(t)?i&&i.hasOwnProperty(t)?i[t]:r(t):void n.error("无效的标识符"+t+"，标识符应为字符串")});return"array"==o.default.type(t)&&(t=t.slice(-1)[0]),t.apply(e,u)}function a(t,e){var r="array"==o.default.type(t)?t.slice(-1)[0]:t,n=Object.create(r.prototype);return i(t,n,e),n}function u(t){return h.hasOwnProperty(t)||f.hasOwnProperty(t+"Provider")}return{has:u,get:r,invoke:i,annotate:p,instantiate:a}}function l(t){if(t.length&&t[t.length-1][1].includes(t[0][0])){var e=t.map(function(t){return t[0]});e.push(t[0][0]),m=!0,n.error("发现循环依赖"+e.join("->"))}}function p(t,r){var i=[];if("array"==o.default.type(t)&&(i=t.length?t.slice(0,t.length-1):[]),"function"==o.default.type(t))if(e)n.error("函数没有$inject属性，不能再严格模式下使用");else if(t.$inject)i=t.$inject;else{var a=t.toString().replace(c,"").match(u);i=o.default.arrayCompact(a[1].split(",")).map(function(t){return t.match(s)[1]}),null!=r&&g.push([r,i])}return i}"array"!=o.default.type(t)&&n.error("模块的名称的参数为数组");var f={$injector:void 0,$provider:{data:void 0,provider:void 0}},d=f.$injector=i(f,function(){}),h={$injector:void 0},y=h.$injector=i(h,function(t){var e=d.get(t+"Provider");return y.invoke(e.$get,e)}),v=new Map,m=!1,g=[],b=[];f.$provider={data:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||n.error(t+"不能用于标识符"),h[t]=e,f[t]=e},provider:function(t,e){"hasOwnProperty"!=t&&"$injector"!=t&&"$provider"!=t||n.error(t+"不能用于标识符"),"function"==o.default.type(e)&&(e=d.instantiate(e)),f[t+"Provider"]=e},factory:function(t,e){this.provider(t,{$get:r(e)})},value:function(t,e){this.factory(t,function(){return e})},service:function(t,e){this.factory(t,function(){return y.instantiate(e)})}};var x=function(t){t.forEach(function(t){var e=d.get(t[0]),r=t[1],n=t[2];e[r].apply(e,n)})};return t.forEach(function t(e){if(!v.get(e)){if(v.set(e,!0),"string"==o.default.type(e)){var r=a.module(e);r.requires.forEach(t),x(r._invokeQueue),x(r._configQueue),b=b.concat(r._runQueue)}"function"!=o.default.type(e)&&"array"!=o.default.type(e)||b.push(d.invoke(e))}}),o.default.arrayCompact(b).forEach(function(t){y.invoke(t)}),y},t}();e.default=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.nonComputedMember=function(t,e){return"("+t+")."+e},t.prototype.computedMember=function(t,e){return"("+t+")["+e+"]"},t.prototype.notExist=function(t){return"!("+t+")"},t.prototype.concatCode=function(t,e){return t+"="+e+";"},t.prototype.conditionIsRight=function(t,e,r){t.push("if(",e,"){",r,"}")},t.prototype.compileId=function(t,e,r){var n="compileId"+t;return r||e.unshift(n),n},t}();e.default=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=function(){function t(){}return t.prototype.type=function(t){var e=Object.prototype.toString,r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object","[object Map]":"map","[object Set]":"set","[object Symbol]":"symbol"};return r[e.call(t)]},t.prototype.isNumber=function(t){return"string"==this.type(t)&&(t>="0"&&t<="9")},t.prototype.isExponent=function(t){return"+"===t||"-"===t||this.isNumber(t)},t.prototype.isLetter=function(t){var e=t.split("");return e.every(function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t})},t.prototype.isWhiteSpace=function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},t.prototype.whichType=function(t){return"string"!=this.type(t)&&n.error("数据类型错误"+t),this.isNumber(t)||"."===t?"number":"'"===t.charAt(0)||'"'===t.charAt(0)?"string":this.isLetter(t)?"letter":"["===t||"]"===t||","===t?"array":"{"===t||"}"===t||":"===t?"object":"("===t||")"===t?"function":"other"},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),o=r(35),i=r(34),a=r(2),u=function(){function t(){}return t.prototype.isEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.areEqual=function(t,e,r){return r?this.compare(t,e):"NaN"==t.toString()||t===e},t.prototype.compare=function(t,e){var r=/undefined|number|string|boolean/,n=/^(function\s*)(\w*\b)/,o="constructor",i="childNodes",a="parentNode";if(r.test(typeof t)||r.test(typeof e)||null===t||null===e)return t===e||isNaN(t)&&isNaN(e);if(t[o]!==e[o])return!1;switch(t[o]){case Date:return t.valueOf()===e.valueOf();case Function:return t.toString().replace(n,"$1")===e.toString().replace(n,"$1");case Array:if(t.length!==e.length)return!1;for(var u=0;u<t.length;u++)t[u].toString()==e[u].toString();break;default:var s=0,c=0,l=void 0;if(t===e)return!0;if(t[i]||t[a]||e[i]||e[a])return t===e;for(l in t)s++;for(l in e)c++;if(s!==c)return!1;for(l in t)if(t[l].toString()!=e[l].toString())return!1}return!0},t.prototype.clone=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.deepClone=function(t){var e,r,n,o=this.type(t);if("array"===o)e=[];else{if("object"!==o)return t;e={}}if("array"===o){for(r=0,n=t.length;r<n;r++)e.push(this.deepClone(t[r]));return e}if("object"===o){for(r in t)e[r]=this.deepClone(t[r]);return e}},t.prototype.repeatObj=function(t,e){switch("number"!=this.type(e)&&a.error("函数repeat的参数manyTime类型为number"),this.type(t)){case"string":return t.repeat(e);case"function":for(var r=new Array(e),n=0;n<r.length;n++)t();break;default:return null}},t.prototype.everyScope=function(t,e){return!!t(e)&&e.$children.every(function(r){return r.everyScope(t,e)})},t.prototype.handelEvent=function(t,e,r){var n=e[t]||function(){};try{n(r)}catch(t){a.error(t)}},t.prototype.objToMap=function(t){if("object"==this.type(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}},t.prototype.mapToObj=function(t){if("map"==this.type(t)){var e={};return t.forEach(function(t,r){e[r]=t}),e}},t.prototype.nextLeter=function(t,e){return t<e.length-1&&e.charAt(t+1)},t.prototype.wrapString=function(t){return"string"==this.type(t)?"'"+t+"'":"null"==this.type(t)?"null":t},t.prototype.expect=function(t){function e(e){return o.exitFirst(t,e)}for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this;if(r.some(e))return t.shift()},t.prototype.consume=function(t,e){var r=this.expect(t,e);return r||a.error("词法解析错误"+e),r},t.prototype.exit=function(t,e){if("array"==this.type(e)&&e.length)for(var r=0;r<e.length;r++)if(t==e[r].text)return r},t.prototype.exitFirst=function(t,e){if("array"==this.type(t)&&t.length)return e&&e!=t[0].text?void 0:t[0]},t.prototype.uArray=function(t){var e=[],r=new Set(t);return r.forEach(function(t){e.push(t)}),e},t.prototype.arrayItem=function(t,e){if("array"==this.type(e)){for(var r=[],n=0;n<e.length;n++)e[n].toString()===t.toString()&&r.push(n);return r}},t.prototype.arrayItem2=function(t,e){if("array"==this.type(e)){for(var r,n=0;n<e.length;n++)e[n].name===t&&(r=n);return r}},t.prototype.arrayLastItem=function(t,e){if("array"==this.type(e)){var r;e=e.reverse();for(var n=0;n<e.length;n++)e[n]===t&&(r=n);return r}},t.prototype.arraySplice=function(t,e){if("array"==this.type(e)){for(var r=this.arrayItem(t,e),n=0;n<r.length;n++)e.splice(r[n],1);return e}},t.prototype.arrayCompact=function(t){var e=[];return t.forEach(function(t){""!=t&&null!=t&&void 0!=t&&e.push(t)}),e},t.prototype.intersection=function(t,e){return t.filter(function(t){return e.includes(t)})},t.prototype.parseString=function(t){if("string"==this.type(t))return new Function("return "+t)},t.prototype.hasProperty=function(t,e){return t+" && ("+this.wrapString(e)+" in "+t+")"},t.prototype.inStr=function(t,e){return e.includes(t)},t.prototype.objKey=function(t){var e=[];for(var r in t)e.push(r);return e},t.prototype.objVal=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.prototype.isEmpty=function(t){if("object"==this.type(t))return"{}"==JSON.stringify(t)},t.prototype.expectSome=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.clone(t);return e.forEach(function(t){delete n[t]}),n},t.prototype.cameCase=function(t){return t.replace(/\-(\w)/g,function(t){return t.slice(1).toUpperCase()})},t.prototype._cameCase=function(t){return t.replace(/([A-Z])/g,"-$1")},t.prototype.extend=function(t,e){for(var r in e)t[r]=e[r];return t},t.prototype.trimStr=function(t){var e=t.trim();return e=e.replace(/\s+/g,""),e=e.replace(/[\r\n]/g,"")},t.prototype.now=function(){var t=new Date,e=t.getFullYear().toString(),r=(t.getMonth()+1).toString(),n=t.getDate().toString();return r=parseInt(r)<10?"0"+r:r,e+r+n+"0"},t.prototype.page=function(){return{width:window.innerWidth,height:window.innerHeight}},t.prototype.classToJson=function(t,e){void 0===e&&(e=!1);var r,n={};t?r=new t:a.error("函数"+t+"未找到");for(var o=Object.create(r),i=o.__proto__,u=o.__proto__.__proto__,s=Object.entries(i).concat(Object.entries(u).slice(1)),c=Object.getOwnPropertyNames(u),l={},p=1;p<c.length;p++)l[c[p]]=u[c[p]];return s.forEach(function(t,r){l[t[0]]=t[1],e&&(n[t[0]]=t[1])}),{componentJson:l,rootComponent:n}},t}();e.util=u,n.applyMixins(u,[o.default,i.default])}])});
//# sourceMappingURL=bundle.js.map